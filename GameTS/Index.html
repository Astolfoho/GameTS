<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Controllers/KeyBoard.js"></script>
    <script src="Controllers/Mouse.js"></script>
    <script src="Physics/BasicCollisionHandler.js"></script>
    <script src="Game.js"></script>
    <script src="Graphics/DrawingContext2D.js"></script>
    <script src="Objects/Velocity.js"></script>
    <script src="Objects/BaseObject.js"></script>
    <script src="Objects/Label.js"></script>
    <script src="Objects/RollSprite.js"></script>
    <script src="Objects/BasicForms.js"></script>
    <script src="Objects/ColisionDebugger.js"></script>
    <script src="Objects/AtlasSprite.js"></script>
    <script src="Objects/NumberOfObjects.js"></script>
    <script src="Objects/FPSLabel.js"></script>
    <script src="Objects/Sprite.js"></script>
    <script src="Objects/TileSprite.js"></script>
    <script src="tests.js"></script>
</head>
<body>
    <canvas id="theCanvas" width="800" height="600">


    </canvas>

    <!--<style>
    

        #test{
            position:relative;
            background-color:cornflowerblue;
              
        }
        #test .ground{    
            position:absolute;
            height:50px;
            background-color:brown;      
            border-top:1px solid maroon;  
            bottom:0;
            width:100%;
-webkit-box-shadow: 0px -4px 3px rgba(50, 50, 50, 0.75);
    -moz-box-shadow:    0px -4px 3px rgba(50, 50, 50, 0.75);
    box-shadow:         0px -4px 3px rgba(50, 50, 50, 0.75);
        }

    </style>
    <div id="test" style="width:800px;height:600px">



        <div class="ground"></div>
    </div>-->


    <script >
        var canvas = document.getElementById("theCanvas");
        var game = new GameTS.Game(canvas);

        var back = new Back();
        game.addObject(back);

        var dl = new DiamondsLabel();
        game.addObject(dl);

        var ground = new Ground();
        game.addObject(ground);


        var dude = new Dude();


        game.addObject(dude);

        dude.colide(ground);
        game.start();

        var lastAdd = null;
        function addDiamonds() {

        if ((lastAdd == null || (-ground.rollPosition.x - lastAdd) > 100 )) {

        var y = getRandomInt(10, this.game.h - 120)
        var x = game.w + 10;

        var d = new Diamond(x, y);
        d.colide(dude);
        game.addObject(d);

        var d = new RedDiamond(x + 50, y);
        d.colide(dude);
        game.addObject(d);

        var d = new GreenDiamond(x, y + 50);
        d.colide(dude);
        game.addObject(d);

        var d = new GoldenDiamond(x + 50, y + 50);
        d.colide(dude);
        game.addObject(d);

        lastAdd = -ground.rollPosition.x;
        gobalVars.baseVelocity += 2;

        y = getRandomInt(10, this.game.h - 120)
        x = game.w + 10;

        var d = new Enemy(x, y);
        d.colide(dude);
        game.addObject(d);

        }
        gobalVars.meters = Math.floor((-ground.rollPosition.x) / 100);
        }

        addDiamonds();

        setInterval(addDiamonds, 100);


        var d = new Diamond(10, 550);
        d.colide(dude);
        game.addObject(d);

        function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
        }

        var a = new GameTS.GameObjects.FPSLabel();
        game.addObject(a);

        var a = new GameTS.GameObjects.NumberOfObjects();
        game.addObject(a);

        var a = new MetersLabel();
        game.addObject(a);
    </script>
</body>
</html>
